<% provide(:title,@suer.name) %>  <%# 編集元が、userモデルのshowファイルにあるので、データの送信先は@user #%>
<%=form_with(model:@user, url:attendances_update_one_month_user_path(date:@first_day), method: :patch,  local:true) do |f| %>
  <table class="table table-bordered ">
    <thead>
      <tr>
        <td>日付</td>
        <td>曜日</td>
        <td>出社</td>
        <td>退社</td>
        <td>在社時間</td>
        <td>備考</td>
        <td>残業指示</td>
        <td>指示者</td>
      </tr>
    </head>
    <tbody>
      <% @attendances.each do |day| %>
      <%=f.fields_for "attendances[]", day do |attendance| %>
      <tr>
        <td><%=l(day.worked_on, format: :short) %></td>
        <td><%=$days_of_the_week[day.worked_on.wday] %></td>
        <td><%=attendance.time_field: started_at, class:"form-control" %></td>
        <td><%=attendance.time_field: finished_at, class:"form-control" %></td>
        <td>
          <% if day.started_at.present? && day.finished_at.present? %>
            <%= working_times(day.started_at,day.finished_at) %>
          <% end %>
        </td>
        <td><%=attendance.text_field: note, class:"form-control" %></td>
        <td></td>
        <td></td>
      </tr>
      <% end %>
      <% end %>
    </tbody>
  </table>
<% end %>





